<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Legacy blog post by Julien Simon">
  <meta name="author" content="Julien Simon">
  <meta name="robots" content="index, follow">
  
  <title>Compiling Mediatomb Ffmpegthumbnailer All Libraries Ubuntu Ps3 â€“ Julien Simon</title>
  
  <!-- Umami Analytics -->
  <script>
    window.addEventListener('load', function() {
      var script = document.createElement('script');
      script.src = 'https://cloud.umami.is/script.js';
      script.setAttribute('data-website-id', '27550dad-d418-4f5d-ad1b-dab573da1020');
      document.head.appendChild(script);
    });
  </script>
  
  <!-- Resource hints for faster DNS resolution and connections -->
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//fonts.gstatic.com">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"></noscript>
  
  <!-- Styles -->
  <link rel="stylesheet" href="../../css/styles.css">
  <link rel="stylesheet" href="../../css/social-icons.css">
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="../../assets/favicon.ico">
  
  <!-- Legacy post specific styles -->
  <style>
    .legacy-post-container {
      max-width: 800px;
      margin: 0 auto;
      padding: var(--space-6);
      background: var(--background);
      border-radius: 12px;
      box-shadow: var(--shadow-lg);
    }
    
    .legacy-post-header {
      text-align: center;
      margin-bottom: var(--space-8);
      padding-bottom: var(--space-6);
      border-bottom: 2px solid var(--border);
    }
    
    .legacy-post-title {
      font-size: var(--text-3xl);
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: var(--space-4);
      line-height: 1.2;
    }
    
    .legacy-post-meta {
      color: var(--text-secondary);
      font-size: var(--text-sm);
      display: flex;
      justify-content: center;
      align-items: center;
      gap: var(--space-4);
      flex-wrap: wrap;
    }
    
    .legacy-post-date {
      background: var(--surface);
      padding: var(--space-2) var(--space-3);
      border-radius: 6px;
      font-weight: 500;
    }
    
    .legacy-post-category {
      background: var(--primary-color);
      color: white;
      padding: var(--space-2) var(--space-3);
      border-radius: 6px;
      font-weight: 500;
      text-transform: uppercase;
      font-size: var(--text-xs);
      letter-spacing: 0.5px;
    }
    
    .legacy-post-content {
      line-height: 1.8;
      color: var(--text-primary);
      font-size: var(--text-base);
    }
    
    .legacy-post-content h1,
    .legacy-post-content h2,
    .legacy-post-content h3,
    .legacy-post-content h4 {
      color: var(--text-primary);
      margin-top: var(--space-8);
      margin-bottom: var(--space-4);
      font-weight: 600;
    }
    
    .legacy-post-content h1 { font-size: var(--text-2xl); }
    .legacy-post-content h2 { font-size: var(--text-xl); }
    .legacy-post-content h3 { font-size: var(--text-lg); }
    .legacy-post-content h4 { font-size: var(--text-base); }
    
    .legacy-post-content p {
      margin-bottom: var(--space-4);
    }
    
    .legacy-post-content ul,
    .legacy-post-content ol {
      margin-bottom: var(--space-4);
      padding-left: var(--space-6);
    }
    
    .legacy-post-content li {
      margin-bottom: var(--space-2);
    }
    
    .legacy-post-content code {
      background: var(--surface);
      color: var(--primary-color);
      padding: var(--space-1) var(--space-2);
      border-radius: 4px;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: var(--text-sm);
    }
    
    .legacy-post-content pre {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: var(--space-4);
      overflow-x: auto;
      margin: var(--space-6) 0;
    }
    
    .legacy-post-content pre code {
      background: none;
      padding: 0;
      color: var(--text-primary);
    }
    
    .legacy-post-content blockquote {
      border-left: 4px solid var(--primary-color);
      padding-left: var(--space-4);
      margin: var(--space-6) 0;
      font-style: italic;
      color: var(--text-secondary);
    }
    
    .legacy-post-content a {
      color: var(--primary-color);
      text-decoration: none;
      transition: color var(--transition-fast);
    }
    
    .legacy-post-content a:hover {
      color: var(--primary-dark);
      text-decoration: underline;
    }
    
    .legacy-post-content img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin: var(--space-4) 0;
    }
    
    .legacy-post-content .separator {
      clear: both;
      margin: var(--space-4) 0;
    }
    
    .legacy-post-content .gist {
      margin: var(--space-4) 0;
    }
    
    .legacy-post-content table {
      width: 100%;
      border-collapse: collapse;
      margin: var(--space-6) 0;
    }
    
    .legacy-post-content th,
    .legacy-post-content td {
      padding: var(--space-2) var(--space-3);
      text-align: left;
      border-bottom: 1px solid var(--border);
    }
    
    .legacy-post-content th {
      background: var(--surface);
      font-weight: 600;
    }
    
    .legacy-post-content strong,
    .legacy-post-content b {
      font-weight: 600;
      color: var(--text-primary);
    }
    
    .legacy-post-content em,
    .legacy-post-content i {
      font-style: italic;
    }
    
      background: var(--primary-color);
      color: white;
      padding: 2px 4px;
      border-radius: 3px;
      font-size: var(--text-sm);
    }
    
    @media (max-width: 768px) {
      .legacy-post-container {
        padding: var(--space-4);
        margin: var(--space-4);
      }
      
      .legacy-post-title {
        font-size: var(--text-2xl);
      }
      
      .legacy-post-meta {
        flex-direction: column;
        gap: var(--space-2);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img src="../../assets/julien.webp" alt="Julien Simon" class="profile-image">
      <h1>Julien Simon</h1>
      <p class="title">Chief Evangelist @ Arcee AI</p>
      <p class="subtitle">World Expert in Practical AI</p>
    </header>

    <main>
      <article class="legacy-post-container">
        <header class="legacy-post-header">
          <h1 class="legacy-post-title">Compiling Mediatomb Ffmpegthumbnailer All Libraries Ubuntu Ps3</h1>
          <div class="legacy-post-meta">
            <span class="legacy-post-date">December 22, 2008</span>
            <span class="legacy-post-category">Linux & Ubuntu</span>
          </div>
        </header>
        
        <div class="legacy-post-content">
          Today I'd like to talk about <a href="http://www.mediatomb.cc/">mediatomb</a>, a media server with a nice web user interface allowing you to stream your digital media through your home network on a variety of 'Universal Plug and Play' (UPnP) compatible devices... such as the PS3 :)<br /><br />Of course, you could just go and install a packaged version of the last official release (0.11) with <span>apt-get</span>, but:<br /><ol><li>0.11 was released in March'08, which means that you'll be missing the newest features</li><li>that's not fun :)</ol>So, let's get to work and take care of all dependencies needed to build <span>mediatomb</span> from source. This procedure was successfully performed on Ubuntu 8.04 and 8.10.<br /><br /><span>1) Installing <span><a href="http://code.google.com/p/ffmpegthumbnailer/">ffmpegthumbnailer</span><br /><br /><span>ffmpegthumbnailer</span> is a small tool which uses <span>ffmpeg</span> to generate video thumbnails. These thumbnails will be displayed by <span>mediatomb</span> while you're browsing your video collection.<br /><br /><span>[Updated on 2008/01/02] This supposes that you have </span><a href="http://juliensimon.blogspot.com/2008/12/howto-compiling-ffmpeg-x264-mp3-xvid.html">built ffmpeg</a><span>. If not, you may be missing a number of libraries: please check the comments below for solutions.</span><br /><br />First, we need to install <span>libpng</span>:<br /><br /><code>ubuntu% <span>sudo apt-get install <span>libpng12-dev</code><br /><br />Now, let's fetch the <span>ffmpegthumbnailer </span>source and build it:<br /><code><br />ubuntu% <span>wget http://ffmpegthumbnailer.googlecode.com/files/ffmpegthumbnailer-1.3.0.tar.gz</span><br />ubuntu% <span>tar xvfz ffmpegthumbnailer-1.3.0.tar.gz</span><br />ubuntu% <span>cd ffmpegthumbnailer-1.3.0  </span><br />ubuntu% <span>./configure --prefix=/usr/local</span><br />ubuntu% <span>make</span><br />ubuntu% <span>sudo make install</code><br />OK, let's move on.<br /><br /><span>2a) Installing </span><a href="http://www.blogger.com/%20http://www.mplayerhq.hu/design7/news.html">libdvdnav</a><span> and <span>libdvdread<span> from source</span><br /><br />These two libraries are used to browse DVD file structures: <span>mediatomb</span> needs them to read and stream DVD ISO images.<br /><br /> Since we're going to build the very latest <span>mediatomb</span> version, let's make sure we have up to date libs as well.<br /><br />You do need to build and install <span>libdvdread</span> before <span>libdvdnav</span>, or the latter won't link.<br /><code><br />ubuntu% <span>wget ftp://ftp6.mplayerhq.hu/MPlayer/releases/dvdnav/libdvdread-4.1.3.tar.bz2</span><br />ubuntu% <span>bzip2 -d libdvdread-4.1.3.tar.bz2</span><br />ubuntu% <span>tar xvf libdvdread-4.1.3.tar</span><br />ubuntu% <span>./configure2 --prefix=/usr/local --enable-shared</span><br />ubuntu% <span>make</span><br />ubuntu% <span>sudo make install</span><br /><br />ubuntu% <span>wget ftp://ftp6.mplayerhq.hu/MPlayer/releases/dvdnav/libdvdnav-4.1.3.tar.bz2</span><br />ubuntu% <span>bzip2 -d libdvdnav-4.1.3.tar.bz2</span><br />ubuntu% <span>tar xvf libdvdnav-4.1.3.tar</span><br />ubuntu% <span>./configure2 --prefix=/usr/local --enable-shared</span><br />ubuntu% <span>make</span><br />ubuntu% <span>sudo make install<br /></code><span>2b) Installing </span><a href="http://www.blogger.com/%20http://www.mplayerhq.hu/design7/news.html">libdvdnav</a><span> and <span>libdvdread<span> from APT</span><br /><br />Both are available as APT packages (<span>libdvdread-dev</span> and <span>libdvdnav-dev</span>), but they're not up to date on Ubuntu 8.04. Anyway, if you don't want to build them, here's how to install them quickly:<br /><br /><code>ubuntu% <span>sudo apt-get install libdvdread-dev libdvdnav-dev</span><br /><span>3) Installing everything else</span><br /><br /><span>Sqlite3</span> is one of the two databases that mediatomb can use (the other is <span>mySQL</span>).<br /><code><br />ubuntu% <span>sudo apt-get install libsqlite3-dev</span><br /><span>Libtag</span> is needed to read tags in MP3 files, FLAC files and so on:<br /><code><br />ubuntu% <span>sudo apt-get install libtag1-dev</span><br /><span>Libexpat</span> is needed parse XML files:<br /><code><br />ubuntu% <span>sudo apt-get install libexpat1-dev<br /></code><span>Libexif</span> is needed to read tags stored in some digital pictures.<br /><code><br />ubuntu% <span>sudo apt-get install libexif-dev</span><br /><span>Libmp4v2</span> is needed to parse mp4 files.<br /><code><br />ubuntu% <span>sudo apt-get install libmp4v2-dev</span><br /><span>Libmagic</span> helps to find the MIME type of a file based on the 'magic number' usually stored in the file header.<br /><code><br />ubuntu% <span>sudo apt-get install libmagic-dev</span><br /><span>Libcurl</span> is used to fetch web content using HTTP requests. This is how <span>mediatomb</span> can fetch YouTube content and stream it.<br /><code><br />ubuntu% <span>sudo apt-get install libcurl4-openssl-dev</span><br />Last, <span>libmozjs</span> is the JavaScript engine used by <span>mediatomb</span>.<br /><code><br />ubuntu% <span>sudo apt-get install libmozjs-dev</span><br /><span>4) Building <span>mediatomb<br /><br />Let's fetch the latest sources from the Subversion repository:<br /><code><br />ubuntu% <span>svn co https://svn.mediatomb.cc/svnroot/mediatomb/trunk/mediatomb mediatomb</span><br />Now, let's generate the <span>configure</span> script and run it (you need <span>autoconf</span> and <span>automake</span> for this):<br /><code><br />ubuntu% <span>cd mediatomb</span><br />ubuntu% <span>autoreconf -i</span><br />ubuntu% <span>./configure --prefix=/usr/local</span><br /><span>lots of output removed</span><br />CONFIGURATION SUMMARY ----<br />sqlite3               : yes<br />mysql                 : missing<br />libjs                 : yes<br />libmagic              : yes<br />inotify               : yes<br />libexif               : yes<br />id3lib                : disabled<br />taglib                : yes<br />libmp4v2              : yes<br />libdvdnav             : yes<br />ffmpeg                : yes<br />ffmpegthumbnailer     : yes<br />external transcoding  : yes<br />curl                  : yes<br />YouTube               : yes<br />Weborama              : disabled<br />Apple Trailers        : yes<br />SopCast               : disabled<br />libextractor          : disabled<br />db-autocreate         : yes<br />As you can see, we have pretty much enabled everything (again, <span>sqlite3</span> is preferred over <span>mySQL</span>, and <span>taglib</span> over <span>id3lib</span>). Support for SopCast and Weborama isn't completely ready yet, so it's probably safer to leave them out.<br /><br />All right, let's build <span>mediatomb</span>:<br /><code><br />ubuntu% <span>make</span><br />ubuntu% <span>sudo make install</span><br />ubuntu% <span>sudo ldconfig</span><br />And now...<br /><code><br />ubuntu% <span>mediatomb</span><br />MediaTomb UPnP Server version 0.12.0 - http://mediatomb.cc/<br />===============================================================================<br />Copyright 2005-2008 Gena Batsyan, Sergey Bostandzhyan, Leonhard Wimmer.<br />MediaTomb is free software, covered by the GNU General Public License version 2<br /><br />All right. Let's power up the PS3 and see if it can see the <span>mediatomb</span> server.<br /><br /><br />Yes it does. Now using the <span>mediatomb</span> GUI, in just a few clicks, I added some pictures and music to my library. They are almost immediately visible on the PS3:<br /><br /></a><br />Not bad at all! That's it for the <span>mediatomb</span> installation. There's still plenty of configuration to do, but this will be the subject of another entry :)
        </div>
      </article>
    </main>

    <footer>
      <nav>
        <a href="../../index.html">Home</a>
        <a href="../../experience.html">Experience</a>
        <a href="../../publications.html">Publications</a>
        <a href="../../code.html">Code</a>
        <a href="../../books.html">Books</a>
        <a href="../../youtube.html">YouTube</a>
        <a href="../../computers.html">Computers</a>
        <a href="../../legacy-posts.html">Legacy Posts</a>
      </nav>
    </footer>
  </div>

  <script src="../../js/main.js"></script>
</body>
</html>