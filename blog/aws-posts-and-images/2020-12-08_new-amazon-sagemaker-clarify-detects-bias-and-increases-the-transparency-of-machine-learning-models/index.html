<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  
  <!-- Primary Meta Tags -->
  <title>New – Amazon SageMaker Clarify Detects Bias and Increases the Transparency of Machine Learning Models - Julien Simon | AWS Expert</title>
  <meta name="title" content="New – Amazon SageMaker Clarify Detects Bias and Increases the Transparency of Machine Learning Models - Julien Simon | AWS Expert"/>
  <meta name="description" content="Expert analysis and technical deep-dive on new – amazon sagemaker clarify detects bias and increases the transparency of machine learning models by Julien Simon, leading AWS expert and former Global Technical Evangelist for AI & ML at Amazon Web Services."/>
  <meta name="keywords" content="AWS, Amazon Web Services, ['New', '–', 'Amazon'], machine learning, AI, cloud computing, Julien Simon, AWS expert"/>
  <meta name="author" content="Julien Simon"/>
  <meta name="robots" content="index, follow"/>
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="article"/>
  <meta property="og:url" content="https://julien.org/blog/new-amazon-sagemaker-clarify-detects-bias-and-increases-the-transparency-of-machine-learning-models/"/>
  <meta property="og:title" content="New – Amazon SageMaker Clarify Detects Bias and Increases the Transparency of Machine Learning Models - Julien Simon | AWS Expert"/>
  <meta property="og:description" content="Expert analysis and technical deep-dive on new – amazon sagemaker clarify detects bias and increases the transparency of machine learning models by Julien Simon, leading AWS expert and former Global Technical Evangelist for AI & ML at Amazon Web Services."/>
  <meta property="og:image" content="https://julien.org/assets/julien-simon-aws-expert.jpg"/>
  <meta property="og:site_name" content="Julien Simon - AWS Expert"/>
  <meta property="article:author" content="Julien Simon"/>
  <meta property="article:published_time" content="2020-12-08T00:00:00Z"/>
  <meta property="article:section" content="AWS"/>
  <meta property="article:tag" content="AWS, Amazon Web Services, Machine Learning, AI"/>
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image"/>
  <meta property="twitter:url" content="https://julien.org/blog/new-amazon-sagemaker-clarify-detects-bias-and-increases-the-transparency-of-machine-learning-models/"/>
  <meta property="twitter:title" content="New – Amazon SageMaker Clarify Detects Bias and Increases the Transparency of Machine Learning Models - Julien Simon | AWS Expert"/>
  <meta property="twitter:description" content="Expert analysis and technical deep-dive on new – amazon sagemaker clarify detects bias and increases the transparency of machine learning models by Julien Simon, leading AWS expert and former Global Technical Evangelist for AI & ML at Amazon Web Services."/>
  <meta property="twitter:image" content="https://julien.org/assets/julien-simon-aws-expert.jpg"/>
  <meta property="twitter:creator" content="@julsimon"/>
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://julien.org/blog/new-amazon-sagemaker-clarify-detects-bias-and-increases-the-transparency-of-machine-learning-models/"/>
  
  <!-- Author and Publisher -->
  <link rel="author" href="https://julien.org/"/>
  <link rel="publisher" href="https://julien.org/"/>
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "New – Amazon SageMaker Clarify Detects Bias and Increases the Transparency of Machine Learning Models",
    "description": "Expert analysis and technical deep-dive on new – amazon sagemaker clarify detects bias and increases the transparency of machine learning models by Julien Simon, leading AWS expert and former Global Technical Evangelist for AI & ML at Amazon Web Services.",
    "image": "https://julien.org/assets/julien-simon-aws-expert.jpg",
    "author": {
      "@type": "Person",
      "name": "Julien Simon",
      "url": "https://julien.org/",
      "jobTitle": "AWS Expert & Former Global Technical Evangelist",
      "worksFor": {
        "@type": "Organization",
        "name": "Amazon Web Services"
      },
      "sameAs": [
        "https://twitter.com/julsimon",
        "https://linkedin.com/in/juliensimon",
        "https://github.com/juliensimon"
      ]
    },
    "publisher": {
      "@type": "Organization",
      "name": "Julien Simon",
      "url": "https://julien.org/",
      "logo": {
        "@type": "ImageObject",
        "url": "https://julien.org/assets/julien-simon-logo.jpg"
      }
    },
    "datePublished": "2020-12-08T00:00:00Z",
    "dateModified": "2020-12-08T00:00:00Z",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://julien.org/blog/new-amazon-sagemaker-clarify-detects-bias-and-increases-the-transparency-of-machine-learning-models/"
    },
    "url": "https://julien.org/blog/new-amazon-sagemaker-clarify-detects-bias-and-increases-the-transparency-of-machine-learning-models/",
    "keywords": "AWS, Amazon Web Services, ['New', '–', 'Amazon'], machine learning, AI, cloud computing, Julien Simon, AWS expert",
    "articleSection": "AWS",
    "inLanguage": "en-US",
    "isPartOf": {
      "@type": "Blog",
      "name": "Julien Simon - AWS Expert Blog",
      "url": "https://julien.org/blog/"
    }
  }
  </script>
  
  <!-- Additional SEO Meta Tags -->
  <meta name="twitter:site" content="@julsimon"/>
  <meta name="twitter:creator" content="@julsimon"/>
  <meta name="theme-color" content="#FF9900"/>
  <meta name="msapplication-TileColor" content="#FF9900"/>
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
  
  <!-- Preconnect to external domains -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="https://julien.org/favicon.ico"/>
  <link rel="apple-touch-icon" href="https://julien.org/apple-touch-icon.png"/>
  
  <style>
   body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-top: 2em;
            margin-bottom: 0.5em;
        }
        h1 { font-size: 2.5em; }
        h2 { font-size: 2em; }
        h3 { font-size: 1.5em; }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin: 1em 0;
        }
        /* Image alignment classes for text wraparound */
        img.alignleft {
            float: left;
            margin: 0.5em 1.5em 1em 0;
        }
        img.alignright {
            float: right;
            margin: 0.5em 0 1em 1.5em;
        }
        img.aligncenter {
            display: block;
            margin: 1em auto;
            float: none;
        }
        img.alignnone {
            float: none;
            margin: 1em 0;
        }
        /* Clear floats after images */
        .wp-block-image::after,
        p:has(img.alignleft)::after,
        p:has(img.alignright)::after {
            content: "";
            display: table;
            clear: both;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 1em;
            overflow-x: auto;
        }
        code {
            background: #f8f9fa;
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-family: 'Monaco', 'Consolas', monospace;
        }
        blockquote {
            border-left: 4px solid #3498db;
            margin: 1em 0;
            padding-left: 1em;
            font-style: italic;
            color: #7f8c8d;
        }
        a {
            color: #3498db;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        p {
            margin-bottom: 1em;
        }
        .author-bio {
            background: #f8f9fa;
            border-left: 4px solid #FF9900;
            padding: 1em;
            margin: 2em 0;
            border-radius: 4px;
        }
        .author-bio h3 {
            margin-top: 0;
            color: #FF9900;
        }
        
  </style>
 </head>
 <body>
  <div style="margin-bottom: 1em;">
  <a href="../../../aws-blog-posts.html" style="color: #FF9900; text-decoration: none; font-size: 0.9em;">← Back to AWS Blog Posts</a>
</div>
  
  <h1>New – Amazon SageMaker Clarify Detects Bias and Increases the Transparency of Machine Learning Models</h1>
  
    
  
  <p style="color: #666; font-style: italic; margin-bottom: 1em;">
   Published: 2020-12-08 | Originally published at <a href="https://aws.amazon.com/blogs/aws/new-amazon-sagemaker-clarify-detects-bias-and-increases-the-transparency-of-machine-learning-models/" target="_blank" rel="noopener noreferrer">AWS Blog</a>
  </p>
 <body>
  <p>
   Today, I’m extremely happy to announce
   <a href="https://aws.amazon.com/sagemaker/clarify/">
    Amazon SageMaker Clarify
   </a>
   , a new capability of
   <a href="https://aws.amazon.com/sagemaker/">
    Amazon SageMaker
   </a>
   that helps customers detect bias in machine learning (ML) models, and increase transparency by helping explain model behavior to stakeholders and customers.
  </p>
  <p>
   As ML models are built by training algorithms that learn statistical patterns present in datasets, several questions immediately come to mind. First, can we ever hope to
   <em>
    explain
   </em>
   why our ML model comes up with a particular prediction? Second, what if our dataset doesn’t faithfully describe the real-life problem we were trying to model? Could we even detect such issues? Would they introduce some sort of
   <em>
    bias
   </em>
   in imperceptible ways? As we will see, these are not speculative questions at all. They are very real, and their implications can be far-reaching.
  </p>
  <p>
   Let’s start with the bias problem. Imagine that you’re working on a model detecting fraudulent credit card transactions. Fortunately, the huge majority of transactions are legitimate, and they make up 99.9% of your dataset, meaning that you only have 0.1% fraudulent transactions, say 100 out of 100,000. Training a binary classification model (legitimate vs. fraudulent), there’s a strong chance that it would be strongly influenced or biased by the majority group. In fact, a trivial model could simply decide that transactions are always legitimate: as useless as this model would be, it would still be right 99.9% of the time! This simple example shows how careful we have to be about the statistical properties of our data, and about the metrics that we use to measure model accuracy.
  </p>
  <p>
   There are many variants of this under-representation problem. As the number of classes, features, and unique feature values increase, your dataset may only contain a tiny number of training instances for certain groups. In fact, some of these groups may correspond to various socially sensitive features such as gender, age range, or nationality. Under-representation for such groups could result in a disproportionate impact on their predicted outcomes.
  </p>
  <p>
   Unfortunately, even with the best of intentions, bias issues may exist in datasets and be introduced into models with business, ethical, and regulatory consequences. It is thus important for model administrators to be aware of potential sources of bias in production systems.
  </p>
  <p>
   Now, let’s discuss the explainability problem. For simple and well-understood algorithms like linear regression or tree-based algorithms, it’s reasonably easy to crack the model open, inspect the parameters that it learned during training, and figure out which features it predominantly uses. You can then decide whether this process is consistent with your business practices, basically saying: “yes, this is how a human expert would have done it.”
  </p>
  <p>
   However, as models become more and more complex (I’m staring at you, deep learning), this kind of analysis becomes impossible. Just like the prehistoric tribes in Stanley Kubrick’s “2001: A Space Odyssey,” we’re often left staring at an impenetrable monolith and wondering what it all means. Many companies and organizations may need ML models to be explainable before they can be used in production. In addition, some regulations may require explainability when ML models are used as part of consequential decision making, and closing the loop, explainability can also help detect bias.
  </p>
  <p>
   Thus, our customers asked us for help on detecting bias in their datasets and their models, and on understanding how their models make predictions. We got to work, and came up with SageMaker Clarify.
  </p>
  <p>
   <strong>
    <span style="text-decoration: underline">
     Introducing Amazon SageMaker Clarify
    </span>
   </strong>
   <br/>
   <a href="https://aws.amazon.com/sagemaker/clarify">
    SageMaker Clarify
   </a>
   is a new set of capabilities for
   <a href="https://aws.amazon.com/sagemaker/">
    Amazon SageMaker
   </a>
   , our fully managed ML service. It’s integrated with
   <span title="Amazon SageMaker Studio">
    SageMaker Studio
   </span>
   , our web-based integrated development environment for ML, as well as with other SageMaker capabilities like
   <a href="https://aws.amazon.com/sagemaker/data-wrangler">
    Amazon SageMaker Data Wrangler
   </a>
   ,
   <a href="https://aws.amazon.com/sagemaker/">
    Amazon SageMaker Experiments
   </a>
   , and
   <a href="https://aws.amazon.com/sagemaker/model-monitor">
    Amazon SageMaker Model Monitor
   </a>
   .
  </p>
  <p>
   Thanks to
   <a href="https://aws.amazon.com/sagemaker/clarify">
    SageMaker Clarify
   </a>
   , data scientists are able to:
  </p>
  <ul>
   <li style="padding-bottom: 0.5em">
    Detect bias in datasets prior to training, and in models after training.
   </li>
   <li style="padding-bottom: 0.5em">
    Measure bias using a variety of statistical metrics.
   </li>
   <li style="padding-bottom: 0.5em">
    Explain how feature values contribute to the predicted outcome, both for the model overall and for individual predictions.
   </li>
   <li>
    Detect bias drift and feature importance drift over time, thanks to the integration with
    <a href="https://aws.amazon.com/sagemaker/model-monitor">
     Amazon SageMaker Model Monitor
    </a>
    .
   </li>
  </ul>
  <p>
   Let’s look at each of these capabilities.
  </p>
  <p>
   <strong>
    Detecting dataset bias:
   </strong>
   This is an important first step. Indeed, a heavily biased dataset may well be unsuitable for training. Knowing this early on certainly saves you time, money, and frustration! Looking at bias metrics computed by
   <a href="https://aws.amazon.com/sagemaker/clarify">
    SageMaker Clarify
   </a>
   on your dataset, you can then add your own bias reduction techniques to your data processing pipeline. Once the dataset has been revised and processed, you can measure bias again, and check if it has actually decreased.
  </p>
  <p>
   <strong>
    Detecting model bias:
   </strong>
   After you’ve trained your model, you can run a
   <a href="https://aws.amazon.com/sagemaker/clarify">
    SageMaker Clarify
   </a>
   bias analysis, which includes automatic deployment to a temporary endpoint, and computation of bias metrics using your model and dataset. By computing these metrics, you can figure out if your trained model has similar predictive behavior across groups.
  </p>
  <p>
   <strong>
    Measuring bias:
   </strong>
   <a href="https://aws.amazon.com/sagemaker/clarify">
    SageMaker Clarify
   </a>
   lets you pick from many different bias metrics. I’ll just give you a few examples here.
  </p>
  <ul>
   <li style="padding-bottom: 0.5em">
    Difference in positive proportions in labels (DPL): Are labels in the dataset correlated or not with specific sensitive feature values? For example, do people living in a certain city have a better chance of getting a positive answer?
   </li>
   <li style="padding-bottom: 0.5em">
    Difference in positive proportions in predicted labels (DPPL): Do we overpredict positive labels for a certain group?
   </li>
   <li style="padding-bottom: 0.5em">
    Accuracy difference (AD): Are the predictions by the model more accurate for one group than the other?
   </li>
   <li>
    Counterfactuals – Fliptest (FT): Suppose we look at each member of one group, and compare with similar members from the other group. Do they get different model predictions?
   </li>
  </ul>
  <p>
   <strong>
    Explaining predictions
   </strong>
   – to explain how your model predicts,
   <a href="https://aws.amazon.com/sagemaker/clarify">
    SageMaker Clarify
   </a>
   supports a popular technique called
   <a href="https://shap.readthedocs.io/en/latest/">
    SHapley Additive exPlanations
   </a>
   (SHAP). Originating in game theory, SHAP analyzes for each data instance the individual contribution of feature values to the predicted output, and represents them as a positive or negative value. For example, predicting with a credit application model, you could see that Alice’s application is approved with a score of 87.5%, that her employment status (+27.2%) and her credit score (+32.4%) are the strongest contributors to this score, and that her income level has a slight negative impact (-5%). Such insights are crucial in building trust that the model is working as expected, and in explaining to customers and regulators why it comes up with a particular prediction. Further analysis of the SHAP values for your complete dataset can also help identify the relative importance of features and feature values, potentially leading to the discovery of prediction issues and biases.
  </p>
  <p>
   As you can see, SageMaker Clarify has some pretty powerful features for bias detection and explainability. Fortunately, it also makes them very easy to use. First, you should upload a clean and pre-processed copy of your tabular dataset (CSV or JSON) to
   <a href="https://aws.amazon.com/s3/">
    Amazon Simple Storage Service (Amazon S3)
   </a>
   . Then, using a built-in container, you just launch an
   <a href="https://aws.amazon.com/sagemaker/">
    Amazon SageMaker Processing
   </a>
   job on your dataset, passing a short configuration file defining the name of the target attribute, the name and values of the sensitive columns to analyze for bias, and the bias metrics that you want to compute. As you would expect, this job runs on fully managed infrastructure. For post-training analysis, a temporary endpoint is also automatically created and deleted by the job. Once the job is complete, results are available in S3 and in
   <span title="Amazon SageMaker Studio">
    SageMaker Studio
   </span>
   , and include an auto-generated report that summarizes the results.
  </p>
  <p>
   Now, I’d like to show you how to get started with
   <a href="https://aws.amazon.com/sagemaker/clarify">
    SageMaker Clarify
   </a>
   .
  </p>
  <p>
   <span style="text-decoration: underline">
    <strong>
     Exploring Datasets and Models with Amazon SageMaker Clarify
    </strong>
   </span>
   <br/>
   The
   <a href="https://archive.ics.uci.edu/ml/datasets/statlog+%28german+credit+data%29">
    German Credit Data
   </a>
   dataset contains 1,000 labeled credit applications, which I’ve used to train a binary classification model with XGBoost. Each data instance has 20 features, such as credit purpose, credit amount, housing status, employment history, and more. Categorical features have been encoded with
   <code>
    Axx
   </code>
   values. For example, here’s how the credit history feature is encoded:
   <code>
    A30
   </code>
   means ‘no credits taken’,
   <code>
    A31
   </code>
   means ‘all credits at this bank paid back duly’, and so on.
  </p>
  <p>
   In particular, the dataset includes a feature telling us if a customer is a foreign worker. In fact, a quick look at the dataset hints at a large imbalance in favor of foreign workers. Could bias be hiding there? What about the model? Did XGBoost increase or decrease the bias? Which features contribute most to the predicted output? Let’s find out.
  </p>
  <p>
   After training the model, my next step is to run a
   <a href="https://aws.amazon.com/sagemaker/clarify">
    SageMaker Clarify
   </a>
   bias analysis job on the dataset, using a built-in container image that will compute bias metrics. The job inputs are the dataset, and a JSON configuration file that defines:
  </p>
  <ul>
   <li style="padding-bottom: 0.5em">
    The name of the target attribute (
    <code>
     Class1Good2Bad
    </code>
    ), and the value for the positive answer (
    <code>
     1
    </code>
    ).
   </li>
   <li style="padding-bottom: 0.5em">
    The sensitive features to analyze (called “facets”), and their value. Here, we want to focus on instances where
    <code>
     ForeignWorker
    </code>
    is set to
    <code>
     0
    </code>
    , as they seem to be under-represented in the dataset.
   </li>
   <li>
    The bias metrics that the job should compute. As I already have a model, I pass its name so that post-training metrics can be computed on a temporary endpoint.
   </li>
  </ul>
  <p>
   Here’s the relevant snippet in the configuration file:
  </p>
  <pre><code class="lang-json">"label": "Class1Good2Bad",
"label_values_or_threshold": [1],
"facet": [
        {
         "name_or_index" : "ForeignWorker",
         "value_or_threshold": [0]
        }
    ],
. . .
"methods": {
    "pre_training_bias": {"methods": "all"}
    "post_training_bias": {"methods": "all"}
},
"predictor": {
        "model_name": "xgboost-german-model",
        "instance_type": "ml.m5.xlarge",
        "initial_instance_count": 1
    }</code></pre>
  <p>
   Then, I configure the job inputs (the dataset and the configuration file) and output (the report), passing all appropriate paths in Amazon S3:
  </p>
  <pre><code class="lang-python">config_input = ProcessingInput(
                    input_name="analysis_config",
                    source=analysis_config_s3_path,
                    destination="/opt/ml/processing/input/config")
data_input = ProcessingInput(
                    input_name="dataset",
                    source=train_data_s3_path,
                    destination="/opt/ml/processing/input/data")
result_output = ProcessingOutput(
                    source="/opt/ml/processing/output",
                    destination=analysis_result_s3_path,
                    output_name="analysis_result")
</code></pre>
  <p>
   Finally, I run the processing job.
  </p>
  <pre><code class="lang-python">from sagemaker.processing import Processor, ProcessingInput, ProcessingJob, ProcessingOutput
analyzer_image_uri = f'211330385671.dkr.ecr.us-east-2.amazonaws.com/sagemaker-clarify-processing:1.0'
analyzer = Processor(base_job_name='analyzer',
                     image_uri=analyzer_image_uri,
                     role=sagemaker.get_execution_role(),
                     instance_count=1,
                     instance_type='ml.c5.xlarge')
analyzer.run(inputs=[ data_input, config_input], outputs=[result_output])</code></pre>
  <p>
   Once the processing job is complete, I can retrieve the report. Let’s look at bias metrics.
  </p>
  <p>
   <strong>
    <span style="text-decoration: underline">
     Detecting Bias with Amazon SageMaker Clarify
    </span>
   </strong>
   <br/>
   Here are some of the pre-training bias metrics:
  </p>
  <pre><code class="lang-json">"ForeignWorker": [
    {
     "value_or_threshold": "0",
     "metrics": [
      {
       "name": "CI",
       "description": "Class Imbalance (CI)",
       "value": 0.9225
      },
      {
       "name": "DPL",
       "description": "Difference in Positive Proportions in Labels (DPL)",
       "value": -0.21401904442300435
      },
. . . </code></pre>
  <p>
   The class imbalance metric confirms our visual impression. The dataset has about 92% more foreign workers than it has domestic workers to assess. Whether this imbalance is responsible or not, we can also see that the difference in positive proportion for domestic workers is quite negative. In other words, there’s a smaller proportion of domestic workers with positive labels. This statistical pattern could be picked up by an ML algorithm, leading to a larger proportion of domestic workers getting negative answers. Figuring out whether this is actually legitimate or not would require further analysis, and in any case, it’s great that
   <a href="https://aws.amazon.com/sagemaker/clarify">
    SageMaker Clarify
   </a>
   warned us about this potential issue.
  </p>
  <p>
   As I provided a trained model, post-training metrics are also available. Comparing the DPPL and the DPL, I can see that XGBoost has slightly reduced bias on positive proportions (-18.8% vs -21.4%). We also see that DAR is negative, indicating that the model achieves higher precision for domestic workers compared to foreign workers.
  </p>
  <pre><code class="lang-json">"ForeignWorker": [
    {
     "value_or_threshold": "0",
     "metrics": [
      {
       "name": "DPPL",
       "description": "\"Difference in Positive Proportions in Predicted Labels (DPPL)\")",
       "value": -0.18801124208230213
      },
      {
       "name": "DAR",
       "description": "Difference in Acceptance Rates (DAR)",
       "value": -0.050909090909090904
      },
      {
       "name": "DRR",
       "description": "Difference in Rejection Rates (DRR)",
       "value": 0.0365296803652968
      },
. . .</code></pre>
  <p>
   As
   <a href="https://aws.amazon.com/sagemaker/clarify">
    SageMaker Clarify
   </a>
   is integrated with
   <span title="Amazon SageMaker Studio">
    SageMaker Studio
   </span>
   , I can visualize bias metrics there. All I have to do is find the processing job in the list of trials, right-click “Open in trial details”, and select the “Bias report” view.
  </p>
  <p>
   <a href="https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/11/27/Capture-d%E2%80%99e%CC%81cran-2020-11-27-a%CC%80-17.17.16.png">
    <img alt="SageMaker screenshot" class="size-large wp-image-44364 aligncenter" height="452" src="image01.webp" width="1024"/>
   </a>
  </p>
  <p>
   Finally, deciding whether high value of a certain bias metric is problematic involves domain-specific considerations. This needs to be guided by ethical, social, regulatory, and business considerations. Similarly, interventions for removing bias may often need a careful analysis of the entire ML lifecycle, from problem formulation to feedback loops in deployment.
  </p>
  <p>
   Now, let’s see how
   <a href="https://aws.amazon.com/sagemaker/clarify">
    SageMaker Clarify
   </a>
   helps us understand what features the models base their predictions on.
  </p>
  <p>
   <strong>
    <span style="text-decoration: underline">
     Explaining Predictions with Amazon SageMaker Clarify
    </span>
   </strong>
   <br/>
   The report includes global SHAP values, showing the relative importance of all the features in the dataset. On the feature importance graph available in
   <span title="Amazon SageMaker Studio">
    SageMaker Studio
   </span>
   , I see that the three most important features are credit duration, not having a checking account (
   <code>
    A14
   </code>
   ), and the loan amount. All things being equal, the bank probably sees you as a safer customer if you’re borrowing a small amount over a short period of time, and without the possibility to write checks!
  </p>
  <p>
   <a href="https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2020/11/27/Capture-d%E2%80%99e%CC%81cran-2020-11-27-a%CC%80-17.18.13.png">
    <img alt="SageMaker screenshot" class="size-large wp-image-44365 aligncenter" height="450" loading="lazy" src="image02.webp" width="1024"/>
   </a>
  </p>
  <p>
   In S3, I can also find a CSV file with SHAP values for individual data instances, giving me a complete picture of feature and feature value importance.
  </p>
  <p>
   <strong>
    <span style="text-decoration: underline">
     Getting Started
    </span>
   </strong>
   <br/>
   As you can see, SageMaker Clarify is a powerful tool to detect bias and to understand how your model works. You can start using it today in all regions where Amazon SageMaker is available, at no additional cost.
  </p>
  <p>
   <a href="https://github.com/aws/amazon-sagemaker-examples">
    Sample notebooks
   </a>
   are available to get you started quickly.
   <a href="https://console.aws.amazon.com/sagemaker">
    Give them a try
   </a>
   , and let us know what you think. We’re always looking forward to your feedback, either through your usual AWS support contacts, or on the
   <a href="https://forums.aws.amazon.com/forum.jspa?forumID=285">
    AWS Forum
   </a>
   for SageMaker.
  </p>
  <a href="https://aws.amazon.com/developer/community/evangelists/julien-simon/">
   - Julien
  </a>
  <p>
   <em>
    Special thanks to my colleagues Sanjiv Das, Michele Donini, Jason Gelman, Krishnaram Kenthapadi, Pinar Yilmaz, and Bilal Zafar for their precious help.
    <br/>
   </em>
  </p>
  <p>
   <em>
    Dataset credits: Dua, D. and Graff, C. (2019).
    <a href="http://archive.ics.uci.edu/ml" rel="noopener noreferrer" target="_blank">
     UCI Machine Learning Repository
    </a>
    . Irvine, CA: University of California, School of Information and Computer Science.
   </em>
  </p>
  <!-- '"` -->
  <hr/>
  <h3>
   About the Author
  </h3>
  <p>
   <strong>
    Julien is the Artificial Intelligence &amp; Machine Learning Evangelist for EMEA
   </strong>
   . He focuses on helping developers and enterprises bring their ideas to life. In his spare time, he reads the works of JRR Tolkien again and again.
  </p>
  <p>
  </p>
  <p>
  </p>
  <p>
  </p>
  <!-- '"` -->
 
  
  </body>
 </html>