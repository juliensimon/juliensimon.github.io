<!DOCTYPE html>

<html lang="en">
<head>
<meta content="Routing function calling queries to the best SLM LLM with Arcee Conductor - In this video, we show you how to run function calling with Arcee Conductor (https://www.arcee.ai/product/arcee-conductor). This allows you to automatically inv..." name="description"/><meta content="Routing function calling queries to the best SLM LLM with Arcee Conductor - Julien Simon" property="og:title"/><meta content="Routing function calling queries to the best SLM LLM with Arcee Conductor - In this video, we show you how to run function calling with Arcee Conductor (https://www.arcee.ai/product/arcee-conductor). This allows you to automatically inv..." property="og:description"/><meta content="https://www.julien.org/youtube/2025/20250410_Routing_function_calling_queries_to_the_best_SLM_LLM_with_Arcee_Conductor.html" property="og:url"/><meta content="video" property="og:type"/><meta content="summary_large_image" name="twitter:card"/><meta content="Routing function calling queries to the best SLM LLM with Arcee Conductor - Julien Simon" name="twitter:title"/><meta content="Routing function calling queries to the best SLM LLM with Arcee Conductor - In this video, we show you how to run function calling with Arcee Conductor (https://www.arcee.ai/product/arcee-conductor). This allows you to automatically inv..." name="twitter:description"/><link href="https://www.julien.org/youtube/2025/20250410_Routing_function_calling_queries_to_the_best_SLM_LLM_with_Arcee_Conductor.html" rel="canonical"/><meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Routing function calling queries to the best SLM LLM with Arcee Conductor - Julien Simon</title>
<style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.2em;
        }
        .date {
            color: #7f8c8d;
            font-size: 1.1em;
            margin-bottom: 30px;
            font-weight: 500;
        }
        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            margin-bottom: 30px;
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
        }
        .description {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            white-space: pre-wrap;
            font-size: 1em;
        }
        .description a {
            color: #3498db;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        .description a:hover {
            color: #2980b9;
            text-decoration: underline;
        }
        .transcript {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            white-space: pre-wrap;
            font-size: 1em;
        }
        .transcript h2 {
            color: #2c3e50;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        .tags {
            margin-bottom: 30px;
        }
        .tags h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        .tag {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 6px 12px;
            margin: 4px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }
        .links {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        .link {
            display: inline-block;
            padding: 12px 24px;
            background: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        .link:hover {
            background: #2980b9;
        }
        .link.youtube {
            background: #e74c3c;
        }
        .link.youtube:hover {
            background: #c0392b;
        }
        @media (max-width: 600px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            h1 {
                font-size: 1.8em;
            }
            .links {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
<div class="container">
<h1>Routing function calling queries to the best SLM LLM with Arcee Conductor</h1>
<div class="date">April 10, 2025</div>
<div class="video-container">
<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" src="https://www.youtube.com/embed/XAwi_8CoNE8">
</iframe>
</div>
<div class="description">In this video, we show you how to run function calling with Arcee Conductor (<a href="https://www.arcee.ai/product/arcee-conductor)." rel="noopener noreferrer" target="_blank">https://www.arcee.ai/product/arcee-conductor).</a> This allows you to automatically invoke external APIs and tools, and use their output for text generation while making sure you use the best and most cost-effective SLM/LLM for each query. In this particular example, I run API calls on Yahoo Finance.

Sign up and get $20 of free inference credits!

If you’d like to understand how Arcee AI can help your organization build scalable and cost-efficient AI solutions, don't hesitate to contact sales@arcee.ai or book a demo at <a href="https://www.arcee.ai/book-a-demo." rel="noopener noreferrer" target="_blank">https://www.arcee.ai/book-a-demo.</a> 

⭐️⭐️⭐️ Don't forget to subscribe to be notified of future videos. You can also follow me on Medium at <a href="https://julsimon.medium.com" rel="noopener noreferrer" target="_blank">https://julsimon.medium.com</a> or Substack at <a href="https://julsimon.substack.com." rel="noopener noreferrer" target="_blank">https://julsimon.substack.com.</a> ⭐️⭐️⭐️

* Introducing Arcee Conductor: <a href="https://youtu.be/1-SCHE9Idcs" rel="noopener noreferrer" target="_blank">https://youtu.be/1-SCHE9Idcs</a>
* Arcee Conductor product page: <a href="https://www.arcee.ai/product/arcee-conductor" rel="noopener noreferrer" target="_blank">https://www.arcee.ai/product/arcee-conductor</a>
* Code: <a href="https://github.com/juliensimon/arcee-demos/blob/main/model-engine/test-model-engine-auto-tool.ipynb" rel="noopener noreferrer" target="_blank">https://github.com/juliensimon/arcee-demos/blob/main/model-engine/test-model-engine-auto-tool.ipynb</a></div>
<div class="transcript">
<h2>Transcript</h2>
            Hi everybody, this is Julien from Arcee. Function calling is the ability to inject data coming from external APIs or external tools into the text generation process. In this video, I'm going to show you function calling with Arcee Conductor, enabling you to use external APIs or tools while making sure you automatically select the best SLS or LLM to run inference. Let's get started. If you haven't done so already, you should sign up to Arcee Conductor. Just go to conductor.arcee.ai and it takes a minute. Once you've signed up, you just need to create an API key, and that's the only thing we'll need to run the demo.

Okay, so of course the link to the notebook is in the video description. So first, we need to install some dependencies. As always, I recommend creating a virtual environment. Here, we're going to invoke APIs from Yahoo Finance. So that's why we need the WiFinance package. And of course, we need the OpenAI client because, as you probably know by now, Conductor is compatible with the OpenAI API. Okay, then we create the OpenAI client pointing to the Conductor URL, and passing the key. So let's just run this.

And then you can see my three test functions. One is going to retrieve the stock price for a particular company. One is going to get the CEO name, and the last one is going to get a company summary. Okay, and we can see the three corresponding Yahoo Finance calls. So feel free to tweak this. Feel free to use your own APIs. This is just a simple example with a free public API. Okay, so let's just run this. We can just double check that, yes, those functions work. Okay, so here I'm calling the Yahoo API directly. And here's the most important part. So here we use the OpenAI tools definition. And as you can see, we have a number of blocks describing each function. With the description and some examples, this is really useful because it will help the model match your query to similar queries that the function should be able to fulfill. Then we describe the parameters, and here we pass the company name, which is a string, so that's going to be the human-readable name, and we are passing the ticker. In fact, we'll see that in most queries, we'll just mention company names, and the model will automatically infer what the correct ticker is, which is another benefit of working with a language model.

Here's the second function, the CEO name, so very similar examples, parameters, and the summary. This information will be passed in every prompt, and this is how the model will try to match your query to the appropriate function. Okay, so then I'm writing a function called tools, which will get the user and the max tokens, and as you can see here, I'm invoking the Conductor API, passing auto-tool as the model name. If you watched my previous videos on model routing, we used to pass auto, which would select the right SLM or LLM for plain text generation. Here, we want to do function calling, so we need to enable models that are capable of function calling. Make sure to use auto-tool. And the rest is just the usual API, passing the tool definition that we just looked at. And tool choice is set to auto, meaning we let the model pick the appropriate tool.

Okay, so this will be the application. The actual model that Conductor selected. Don't confuse auto-tool, which is, "hey, pick the right model," with tool choice set to auto, which is, "hey, once Conductor has sent this, has routed this query to a model, the model will pick the right tool automatically." And then looking at the model's response, we can see if a tool was selected, which function was selected, which parameters were selected, and we actually run the function call, which is what you see here, calling the actual function and displaying the results. And if no tool was called, then we say, "hey, no tool was called." This is a slightly more elaborate version where I'm running the function calling here, and then I'm passing the output from that previous function to another model to write a better story because we're probably not just interested in the function output. The function output is just useful information, and now we want to pass this information to maybe another creative writing model to make the answer look nice, to apply tone of voice, to put extra context in there, etc. So that's what I'm doing here. So here I'm calling another model to generate a story.

So let's run this first prompt. We see that this was routed to caller, which is our own function calling model. Caller decided that given this query, we should call get CEO name with company name set to General Motors and stock symbol set to GM. So the query doesn't say GM; it says General Motors, but as the function expects the ticker, the stock symbol, the model automatically infers that the correct ticker for General Motors is GM, which is pretty cool. Then we actually call that function and display the result. That's the baseline, but now if we take this output and pass it to Blitz, let's see what we get. So we're going to run the function calling prompt again, retrieve the result, pass this output to Blitz. And hopefully, we'll see a slightly better story here. That's useful because we see a tool was called, so we can trust the answer probably a little more. Here's the answer, and there's some extra analysis based on Blitz's knowledge. So if you have models that do well in particular domains, you can use their knowledge to augment your answer. And we have some extra URLs in case we want to see more, and those were generated by Blitz too.

Okay, let's try another one now. What's the last price of McDonald's? This time, we used Sone, why not? Probably the router decided it was a slightly more complex question. We get the output from the API, and now if we ask Blitz to do a little more, we use the tool, and here's the answer. We got a little more information on McDonald's, again with some URLs. Let's try a slightly harder question: Does 3M make filtration products for the automotive industry? This feels like a company summary kind of thing. So we used Color again, get company summary, 3M, MMM, and we get verbatim output from the Yahoo Finance API. There's got to be some information in there, but that's where probably using the additional model will be useful. So I use the tool. Yes, 3M does make filtration products, and we get an analysis. While the tool does not specifically mention filtration products, 3M's extensive involvement in the automotive sector suggests that the company offers filtration solutions, etc. Obviously, we could have RAG into the mix, retrieve information from 3M documents, and augment the quality of the answer here. But just to show you, the model could be a source of knowledge too.

Let's try maybe this one: On which products do Procter &amp; Gamble and Johnson &amp; Johnson compete the most? Probably a little harder still. So we call GPT-4-0 on this one. Very interesting. We see two function calls because I did mention two company names, and so automatically the model figures it out and calls those two APIs. We see the output for the two companies here. Let's see what Blitz can write about this. So Procter &amp; Gamble and Johnson &amp; Johnson compete most in the healthcare and personal care sector, and we get an analysis with overlapping areas and some additional resources. As you can see, we're working with well-known public companies, so it's kind of expected that Blitz would know what those companies are manufacturing and selling. This is just a small model, the smallest and most cost-efficient model you could use in Conductor. So that's pretty cool.

In fact, if we have to have fun and combine automatic tool calling with automatic model routing, we could set the model to auto. So now we're going to ask Conductor to make two decisions: pick the right model for function calling and then pick the right model for report generation. Let's see how this works. So running Conductor in full auto mode, this is what we get. If we look at the Conductor, let me reload this to make sure. We can see that GPT-40 was selected for function calling, and Blitz was actually selected to write the story. We can see tool results here, so that's pretty cool. Using Blitz all along, and of course, you can see different models have been used along the way: Color, Sone, GPT, and Blitz, etc. We'll keep adding more models here, and the obvious benefit is we only use the larger models when we have to, particularly here for story generation. We can get away with Blitz, which is again the simplest and smallest and most cost-efficient model.

So, bottom line, if you're running function calling with GPT or Sone 100%, well, I'm sorry to say, you're probably spending too much money because, as we can see here, we can get quality results, quality function calling results, and quality text generation results from much more cost-efficient models. All right, well, that's what I wanted to show you. This just came out, and I think this is a pretty cool demonstration and use case for model routing. I'll see you soon with more content, of course, as always, keep rocking.
        </div>
<div class="tags">
<h2>Tags</h2>
<span class="tag">API Integration</span><span class="tag">Function Calling</span><span class="tag">Model Routing</span><span class="tag">Cost Efficiency</span><span class="tag">AI Text Generation</span>
</div>
<div class="links"><a class="link" href="../../index.html">← Back to YouTube Overview</a></div>
</div>
</body>
</html>